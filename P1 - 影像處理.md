# 影像處理 

## Part 1

這章節會提到關於以下幾個影像處理的部分

* [點陣圖(Raster graphics)](#點陣圖raster-graphics)
* 轉換(Transform)
* 量化(Quantized)
* 抖動(Dithering)

> 這邊會來介紹這四種影像處理的方式
> * 點陣圖，用二維的陣列儲存，跟點陣圖相對的就是向量圖
> * 轉換，像是平移、旋轉、縮放等地操作的屬於這塊
> * 量化，就是將一個範圍內的色彩變成同一個數值，使圖片的色彩變得簡單，常用於壓縮圖片。
> * 抖動，像素不單純只描述當個顏色位置的數值，而是整個範圍描述其範圍顏色數值，使少量的顏色可以描述更多顏色的錯覺。

### 點陣圖(Raster graphics)

* 又稱**柵格圖**、**像素圖**等。
* 又又稱 **Raster**、**Pixel**、**Fragment** 跟 **Bitmap**
  > 他的名字很多，以上都是指點陣圖，建議可以記下來
* 柵格化形式通常為**二維像素陣列**表示
  > 點陣圖是平面的，通常由大量的方格子組成，每個方格子有一個值代表那格的顏色  
  >   ![點陣圖格式](https://github.com/NTUST-LaiLab/LearnComputerGraphicsProjectPPT/assets/32979547/3cddf7ea-8e9f-43c1-af2c-32b5eb65f725)  
  >   圖片中，將點陣圖局部放大，可以看到是由一格一格的方形組成，在儲存上，其形式類似於使用**二維陣列**，陣列中的值則代表當格的顏色，也就是像素。因此，也稱為**二維像素陣列**  
  > 常見的數值為 0-255 的整數，這是 8 bits 的空間可以表示的範圍，而另外在影像處理上，也常使用 0-1 的浮點數來表示數值
* 向量圖與點陣圖片比較  
  ![向量圖vs點陣圖](https://github.com/NTUST-LaiLab/LearnComputerGraphicsProjectPPT/assets/32979547/9d2b1246-7b2f-4a28-859f-548f3123dad4)  
  > 可以看到，向量圖是不會有鋸齒的，即使放再大都不會有  
  > 點陣圖由大量的格子組成，夠密集就看不到鋸齒，但是放大以後就看得到鋸齒了
* 常規的點陣圖特性
   * 簡單
     > 由二維像素陣列儲存，可以簡單的透過位置查詢其顏色，需要考慮鄰居時，可以利用迴圈的形式，將鄰居拜訪過一遍  
     > 相比之下，向量圖是用計算而成的，如果要對其做操作，就會變得非常複雜  
     > 例如，想將`向量圖vs點陣圖`的圖中間挖空，點陣圖只要改變中間對應格子的數值即可，向量圖則是要知道中間挖空的函式，並對兩個形狀計算差集  
 * 通道(Channel)
   > 一個數值只能表示到灰階圖片，如下圖所示  
   > ![灰階](https://github.com/NTUST-LaiLab/LearnComputerGraphicsProjectPPT/assets/32979547/8b15d01a-0a4c-4890-8bf4-2db766ee9492)  
   > 0-255 的表示方式，0 代表黑色，255 代表白色，中間區間則代表灰色，越小越暗，反之  
   > 0-1 的表示方式，0 代表黑色，1 代表白色，中間區間則代表灰色，越小越暗，反之  
   > 可以透過多個數值來表示圖片，使圖片的色彩更多元  
   > 有幾個頻道數就代表有幾個數值來表示一格的顏色  
   > 點陣圖常見的頻道多為 1、3、4，分別代表 G (灰階)、RGB (彩色)、RGBA (彩色+透明)  
* 常見的格式
   * jpg, png, tga, hdr 等等
     > jpg 會壓縮破壞圖像，因此輸出後重新讀入的數值，會與原始的不同

> 接下來提到的就是如何透過處理圖片的二維像素陣列，來達到期望的結果，首先要來提的就是彩色變灰階。

## Grayscale

![彩圖變灰階](https://github.com/NTUST-LaiLab/LearnComputerGraphicsProjectPPT/assets/32979547/744377c5-f490-4266-ade5-e76450d54e28)

* 又稱`灰階(Grayscale)`、`調子(Shade)`、 `亮度(Luminance)`
  > 在不同領域有不同稱呼，在影像叫做`灰階(Grayscale)`，在美術會稱`調子(Shade)`，那在物理上會叫做`亮度(Luminance)`
  > 總之，就是只用一個值來表示一個像素(Pixel)
* 灰階的應用
  * 過濾
  * 技術限制
  * 空間壓縮
  * 影像效果
  > 目前最為常見的圖片都是彩色的，也就是三通道的圖片，而將三通道的彩色圖片轉為一通道的灰階圖片，其實會減少原本的資訊  
  > 不過，灰階圖其實已經足夠表示許多細節，以前的黑白照片跟黑白電影就足夠傳達許多內容  
  > 而實際上轉為灰階還有一些實務上的應用，例如：
  > * 過濾：轉為灰階相當於計算出其亮度，再針對亮度值決定要過濾的像素
  > * 技術限制：例如一台只能顯示灰階的螢幕，就可以將彩圖經過灰階轉換，以顯示在螢幕上  
  > * 空間壓縮：三通道彩圖就比一通道灰階圖需要三倍的儲存空間，所以轉為灰階圖相當於一種圖片壓縮的方式
  > * 影像效果：灰階給人一種比較復古等的影像效果
* 將彩色(RGB)的三通道值轉為灰階(G)的一通道計算方式
  * $\text{Grayscale}=0.30\text{R}+0.59\text{G}+0.11\text{B}$
  > 最直觀的將圖片轉為灰階的計算方式：將三通道值相加除 3，這不是錯的，但是不夠符合人眼對顏色的敏感度  
  > 實際上，人眼對 RGB 三色的敏感度是`綠色`>`紅色`>`藍色`，根據統計下，形成了上述綠色約佔 0.6，紅色約佔 0.3，藍色約佔 0.1 的比例，另外，三者合計為 1
